{% extends 'base.html' %}
{% block title %}<title>{{post.title }}</title>{% endblock %}
{% load crispy_forms_tags %}
{% load static %}

  {% block content %}
<!-- Services banner -->
<section class="w3l-about-breadcrumb text-center">
    <div class="breadcrumb-bg breadcrumb-bg-about py-3">
        <div class="container py-lg-5 mt-5">
            <div class="banner-info-grid mt-5">
                <h2 class="w3l-title-breadcrumb">Blog Posts</h2>
            </div>
            <ul class="breadcrumbs-custom-path">
                <li><a href="/">Home</a></li>
                <li class="active"><span class="fa fa-angle-right mx-2" aria-hidden="true"></span>Blog Posts</li>
            </ul>
        </div>
    </div>
</section>
<!-- //Services banner -->


    <!-- Page content-->
    <div class="container mt-5">
      {% if posts %}
        <h3>Search results found ({{posts.count}})</h3>
      <div class="row row-cols-1 row-cols-md-3 g-4 mt-2">
        {% for post in posts %}
        <div class="col">
          <div class="card h-100">
            <a href="{% url 'detail' post.slug %}">
            <img src="{{post.image.url}}" class="card-img-top" alt="...">
            </a>
            <div class="card-body">
              <h5 class="card-title">{{post.title}}</h5>
              <p class="card-text">{{post.body|safe|truncatewords:20}}</p>
              <a href="{% url 'detail' post.slug %}" class="btn btn-primary">View details</a>
            </div>
          </div>
        </div>
      {% endfor %}
      {% else %}
          <h3>Oops! No results match your search</h3><br>
          {% endif %}
      </div>
        </div>
    </div>
    <br>

  {% endblock content %}
